<div>
  <h2>Ajouter une Nouvelle Cat√©gorie</h2>

  <div *ngIf="errorMessage">
    {{ errorMessage }}
  </div>

  <form (ngSubmit)="ajouterCategorie(categorieForm)" #categorieForm="ngForm">
    <div>
      <div>
        <label for="image">Image URL</label>
        <input
          type="text"
          id="image"
          name="image"
          [(ngModel)]="nouvelleCategorie.image"
          required
          #image="ngModel"
          [ngClass]="{ 'is-invalid': categorieForm.submitted && image.invalid }"
        />
        <div *ngIf="categorieForm.submitted && image.invalid" class="error">
          L'URL de l'image est requise.
        </div>
      </div>

      <div>
        <label for="nom_complet">Nom Complet</label>
        <input
          type="text"
          id="nom_complet"
          name="nom_complet"
          [(ngModel)]="nouvelleCategorie.nom_complet"
          required
          #nomComplet="ngModel"
          [ngClass]="{ 'is-invalid': categorieForm.submitted && nomComplet.invalid }"
        />
        <div *ngIf="categorieForm.submitted && nomComplet.invalid" class="error">
          Le nom complet est requis.
        </div>
      </div>
    </div>

    <div>
      <div>
        <label for="description">Description</label>
        <textarea 
        id="description" 
        name="description"
        [(ngModel)]="nouvelleCategorie.description" 
        required
        #description="ngModel"
        [ngClass]="{ 'is-invalid': categorieForm.submitted && description.invalid }">
      </textarea>
      <div *ngIf="categorieForm.submitted && description.invalid" class="error">
        La description est requise.
      </div>
    </div>
    </div>

    <button type="submit">Ajouter</button>
    <button type="button" (click)="annuler()">Annuler</button>
  </form>
</div>
